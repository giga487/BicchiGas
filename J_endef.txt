J_end = [- d2*cos(q1) - d6*(sin(q5)*(cos(q1)*sin(q4) + cos(q2)*cos(q4)*sin(q1)) + cos(q5)*sin(q1)*sin(q2)) - q3*sin(q1)*sin(q2),d6*(cos(q1)*cos(q2)*cos(q5) - cos(q1)*cos(q4)*sin(q2)*sin(q5)) + q3*cos(q1)*cos(q2),cos(q1)*sin(q2),-d6*sin(q5)*(cos(q4)*sin(q1) + cos(q1)*cos(q2)*sin(q4)),-d6*(cos(q5)*(sin(q1)*sin(q4) - cos(q1)*cos(q2)*cos(q4)) + cos(q1)*sin(q2)*sin(q5)),0;
q3*cos(q1)*sin(q2) - d6*(sin(q5)*(sin(q1)*sin(q4) - cos(q1)*cos(q2)*cos(q4)) - cos(q1)*cos(q5)*sin(q2)) - d2*sin(q1),d6*(cos(q2)*cos(q5)*sin(q1) - cos(q4)*sin(q1)*sin(q2)*sin(q5)) + q3*cos(q2)*sin(q1),sin(q1)*sin(q2),d6*sin(q5)*(cos(q1)*cos(q4) - cos(q2)*sin(q1)*sin(q4)),d6*(cos(q5)*(cos(q1)*sin(q4) + cos(q2)*cos(q4)*sin(q1)) - sin(q1)*sin(q2)*sin(q5)),0;
0,- d6*(cos(q5)*sin(q2) + cos(q2)*cos(q4)*sin(q5)) - q3*sin(q2),cos(q2),d6*sin(q2)*sin(q4)*sin(q5),-d6*(cos(q2)*sin(q5) + cos(q4)*cos(q5)*sin(q2)),0;
];